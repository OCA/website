====================
Website Form Builder
====================

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-LGPL--3-blue.png
    :target: http://www.gnu.org/licenses/lgpl-3.0-standalone.html
    :alt: License: LGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fwebsite-lightgray.png?logo=github
    :target: https://github.com/OCA/website/tree/11.0/website_form_builder
    :alt: OCA/website
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/website-11-0/website-11-0-website_form_builder
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
    :target: https://runbot.odoo-community.org/runbot/186/11.0
    :alt: Try me on Runbot

|badge1| |badge2| |badge3| |badge4| |badge5| 

This module provides websites the feature of adding custom forms in any page.

**Table of contents**

.. contents::
   :local:

Installation
============

Install some other addon that provides ``website_form`` support to
benefit from this one's features. Hints:

* ``website_crm``
* ``website_form_project``
* ``website_hr_recruitment``
* ``website_sale``

Configuration
=============

To configure this module, you need to:

#. Have *Administration / Settings* privileges.
#. Go to *Settings > Activate developer mode*.
#. Go to *Settings > Technical > Database Structure > Models*.
#. Search for the model you want to manage website form access for.
#. When you find it, it will have a *Website Forms* section where you can:

   * Allow the model to get forms, by checking *Allowed to use in forms*.
   * Give the model forms a better name in *Label for form action*.
   * Choose the field where to store custom fields data in *Field for custom
     form data*. If you leave this one empty and the model is a mail thread,
     a new message will be appended with that custom data.

#. In the *Fields* tab, there's a new column called *Blacklisted in web forms*.
   It's a security feature that forbids form submitters to write to those
   fields. When you create a new website form, all its model fields are
   automatically whitelisted for the sake of improving the UX. If you want to
   have higher control, come back here after creating the form and blacklist
   any fields you want, although that will only work for custom fields.

Usage
=====

To use this module, you need to:

#. Go to any of your website pages.
#. Edit it.
#. Drag and drop the *Form* snippet into the page.
#. Use the snippet overlay to add, edit and remove fields.
#. If you want to set a hidden field, make sure you set a valid default value
   on it, or users may get hidden errors and they might even be unable to send
   the form!

Known issues / Roadmap
======================

* These type of fields will not appear, they are forbidden since they make no
  sense in this module's context, or a correct implementation would be adding
  not much value while adding lots of complexity:

  * ``id``
  * ``create_uid``
  * ``create_date``
  * ``write_uid``
  * ``write_date``
  * ``__last_update``
  * Any ``one2many`` fields
  * Any ``reference`` fields
  * Any ``serialized`` fields
  * Any read-only fields

* You should include https://github.com/odoo/odoo/pull/21628 in your
  installation to get a better UX when a user has already sent a form and
  cannot resend it.

* To edit any ``<label>`` text, you need to click twice. Review the problem
  once https://bugzilla.mozilla.org/show_bug.cgi?id=853519 gets fixed.

* You cannot edit base fields blacklisted status manually because
  `Odoo forbids that for security
  <https://github.com/OCA/website/pull/402#issuecomment-356930433>`_.

* ``website_form`` works in unexpected and undocumented ways. If you plan to
  add support in your addon, `this is a good place to start reading
  <https://github.com/OCA/website/pull/402#discussion_r157441770>`_.

* If you add a custom file upload field to a form that creates records in
  models that have no ``mail.thread`` inheritance, your users will be unable
  to send the form.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/website/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/OCA/website/issues/new?body=module:%20website_form_builder%0Aversion:%2011.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Tecnativa

Contributors
~~~~~~~~~~~~

* `Tecnativa <https://www.tecnativa.com>`_:
  * Jairo Llopis <jairo.llopis@tecnativa.com>

Other credits
~~~~~~~~~~~~~

Images
------

* https://openclipart.org/detail/281632/form
* https://openclipart.org/detail/224192/simple-grey-small-pencil-icon-white-background

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/website <https://github.com/OCA/website/tree/11.0/website_form_builder>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
